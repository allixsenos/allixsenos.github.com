<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>pytalks Zagreb May 2014 - Heroku and Hitlist by Luka Kladaric</title>

		<meta name="description" content="pytalks Zagreb May 2014 - Heroku and Hitlist">
		<meta name="author" content="Luka Kladaric">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/solarized.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body data-clockNO="yes" data-countdown="45">

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<h1>Heroku and Hitlist</h1>
					<h4>Luka Kladaric</h4>
					<h4>pytalks Zagreb May 2014</h4>
					<small>
						<a href="http://twitter.com/kll">@kll</a>
							<br>
						<a href="mailto:luka@hitlistapp.com">luka@hitlistapp.com</a>
							<br>
						<a href="http://hitlistapp.com">http://hitlistapp.com</a>
					</small>
				</section>

				<section>
					<h1>hosting</h1>
				</section>

				<section>
					<section>
						<h1>shared hosting</h1>
					</section>

					<section>
						<h5>shared hosting</h5>
						<p>jedan stroj -- single point of failure</p>
					</section>

					<section>
						<h5>shared hosting</h5>
						<p>jeftino ($5)</p>
					</section>

					<section>
						<h5>shared hosting</h5>
						<p>bad neighbor effect</p>
					</section>

					<section>
						<h5>shared hosting</h5>
						<p>scaling?</p>
					</section>

					<section>
						<h5>shared hosting</h5>
						<p>ALI!</p>
					</section>

					<section>
						<h5>shared hosting</h5>
						<p>0 maintenance, hoster odrzava softver, brine se za security</p>
					</section>
				</section>

				<section>
					<section>
						<h1>VPS</h1>
					</section>

					<section>
						<h5>VPS</h5>
						<p>nesto manje jeftino ($10-$20)</p>
					</section>

					<section>
						<h5>VPS</h5>
						<p>i dalje samo jedan stroj -- single point of failure</p>
					</section>

					<section>
						<h5>VPS</h5>
						<p>ALI!</p>
					</section>

					<section>
						<h5>VPS</h5>
						<p>puno pouzdanije i konzistentnije performance, "bad neighbor" effect primjetno manji problem</p>
					</section>

					<section>
						<h5>VPS</h5>
						<p>ALI!</p>
					</section>

					<section>
						<h5>VPS</h5>
						<p>najcesce "not managed" -- znaci root pristup i udri, radi sto hoces, i odgovaraj za sigurnost i stabilnost</p>
					</section>
				</section>

				<section>
					<section>
						<h1>IaaS</h1>
						<h2>Infrastructure as a Service</h2>
						<h3>Amazon EC2, etc</h3>
					</section>

					<section>
						<h5>IaaS</h5>
						<p>zamisljeno za vece setupe</p>
					</section>

					<section>
						<h5>IaaS</h5>
						<p>i decentralizirane aplikacije</p>
					</section>

					<section>
						<h5>IaaS</h5>
						<p>visok "barrier to entry" -- potrebno je puno truda uloziti da bi se servirala najjednostavnija "Hello World" aplikacija</p>
					</section>

					<section>
						<h5>IaaS</h5>
						<p>50$ navise (EC2)</p>
					</section>

					<section>
						<h5>IaaS</h5>
						<p>naglasak na reusabilityju -- koncipirano kao lego kockice vise nego kao gotova rjesenja</p>
					</section>

					<section>
						<h5>IaaS</h5>
						<p>kao rezultat, scaling hardvera je jednostavan i bezbolan</p>
					</section>

					<section>
						<h5>IaaS</h5>
						<p>da bi to sve dobili, potrebno je dosta znanja koje je apsolutno neprimjenjivo igdje drugdje osim na toj platformi</p>
					</section>
				</section>

				<section>
					<section>
						<h1>PaaS</h1>
						<h2>Platform as a Service</h2>
						<h3>Heroku, Azure, Google App Engine</h3>
					</section>

					<section>
						<h5>PaaS</h5>
						<p>striktno definirana radna okolina, "default" setup, cesto slican shared hostingu</p>
					</section>

					<section>
						<h5>PaaS</h5>
						<p>razne razine konfigurabilnosti</p>
					</section>

					<section>
						<h5>PaaS</h5>
						<p>35$ navise (Heroku)</p>
					</section>

					<section>
						<h5>PaaS</h5>
						<p>naglasak na jednostavnosti scalinga kroz poticanje "ispravnih" pristupa</p>
					</section>
				</section>


				<section>
					<section>
						<h1>Heroku</h1>
					</section>

					<section>
						<h5>Heroku</h5>
						<p>PaaS provider koji prodaje VPS-like containere ("dyno") i dodatke ("addons")</p>
					</section>

					<section>
						<h5>Heroku dyno</h5>
						<ul>
							<li>osnovna logicka jedinica ("server")</li>
							<li>512 MB RAM</li>
							<li>"1x cpu share"</li>
							<li>$35/mj</li>
						</ul>
					</section>

					<section>
						<h5>Heroku addons</h5>
						<p>razni dodaci koje nude Heroku i vanjski partneri, a koji ne spadaju u model web servera ili workera</p>
						<ul>
							<li>postgres (Heroku official)</li>
							<li>scheduler (cron, Heroku official)</li>
							<li>data stores: mysql, redis, memcached, mongodb, ...</li>
							<li>search: elasticsearch, sphinx, hadoop, ...</li>
							<li>logging</li>
							<li>email: sendgrid</li>
							<li>queues: amqp, ironmq..</li>
							<li>monitoring/alerting: new relic, sentry, ...</li>
							<li>itd...</li>
						</ul>
					</section>

					<section>
						<h5>Heroku</h5>
						<p>what's the big deal?</p>
					</section>

					<section>
						<pre><code contenteditable>echo '<?php echo "!";?>' > index.php;touch composer.json;\
	git init;git add .;git commit -m "new";\
	heroku create;\
	git push heroku master;\
	heroku open</code></pre>
					</section>

					<section>
						<img src='deploy1.png'>
					</section>
					<section>
						<img src='deploy2.png'>
					</section>
					<section>
						<img src='deploy3.png'>
					</section>

					<section>
						<h5>Heroku</h5>
						<p>30s do web sajta, s javnom web adresom</p>
					</section>

					<section>
						<h5>Heroku</h5>
						<p>platforma je language-agnostic -- ako se kompajlira za linux, vrti se na Herokuu</p>
					</section>

					<section>
						<h5>Heroku</h5>
						<p>sluzbeni support za Python, PHP, Ruby, Node.js...</p>
						<p>nesluzbeni support za... svasta.</p>
					</section>

					<section>
						<h5>Heroku</h5>
						<p>aplikacija definira vrste dynoa i naredbe kojima se pokrecu (Procfile)</p>
					</section>

					<section>
						<h5>Heroku</h5>
						<p>preko dashboarda se kontrolira koliko kojih dynoa treba</p>
						<img src="heroku-dashboard.png">
					</section>

				</section>

				<section>
					<section>
						<h1>Hitlist</h1>
						<img src="hitlist.png" style="border:0;">
					</section>

					<section>
						<h5>Hitlist</h5>
						<p>mobilna aplikacija koja olaksava ljudima planiranje putovanja</p>
					</section>

					<section>
						<h5>Hitlist</h5>
						<p>backend: Django, postgres, redis, celery, rabbitmq</p>
					</section>

					<section>
						<h5>Hitlist</h5>
						<p>mobile app: phonegap (iOS/Android), native WIP</p>
					</section>

					<section>
						<h5>Hitlist: Heroku setup</h5>
						<p>5 appova</p>
						<ul>
							<li>production-front: web serveri (2 kom)</li>
							<li>production-workers: celery workeri (3 vrste, 1 kom svaki)</li>
							<li>production-beat: celery heartbeat (1 kom)</li>
							<li>staging: vrti po 1 od svega (web, 3 x worker, heartbeat)</li>
						</ul>
					</section>

					<section>
						<h5>Hitlist: Procfile</h5>
						<pre><code contenteditable>web: gunicorn hitlist.wsgi:application --log-level=$LOG_LEVEL -w 8 -k gevent --max-requests=500 --preload
celery: python manage.py celery worker -E -B -Q celery --loglevel=INFO --maxtasksperchild=500
celeryslow: python manage.py celery worker -E -Q slow --loglevel=INFO --maxtasksperchild=500e
celerybacklog: python manage.py celery worker -E -Q backlog --loglevel=INFO --maxtasksperchild=500
</code></pre>
					</section>

					<section>
						<h5>Hitlist: Heroku setup</h5>
						<p>addoni</p>
						<ul>
							<li>heroku postgres (Tengu + Yanari)</li>
							<li>heroku pgbackups</li>
							<li>new relic</li>
							<li>rabbitmq</li>
							<li>redis</li>
							<li>sendgrid</li>
						</ul>
					</section>

					<section>
						<h5>Hitlist+Heroku: war stories</h5>
					</section>

					<section>
						<h5>Hitlist: Hiring!</h5>
						<p>ako vam se svidja ovo o cemu sam tu pricao<br><a href="mailto:luka@hitlistapp.com">luka@hitlistapp.com</a></p>
					</section>
				</section>

				<section>
					<h1>pitanja? :)</h1>
				</section>

				<section>
					<h1>HVALA</h1>
					<p>
						<a href="http://twitter.com/kll">@kll</a>
							<br>
						<a href="mailto:luka@hitlistapp.com">luka@hitlistapp.com</a>
							<br>
						<a href="http://hitlistapp.com">http://hitlistapp.com</a>
					</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: 'solarized', //Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					// { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					// { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					// { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/clock/clock.js', async: true, condition: function() { return !!document.querySelector('body[data-clock]'); } }
				]
			});

		</script>

	</body>
</html>
